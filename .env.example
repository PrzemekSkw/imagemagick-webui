# ============================================
# ImageMagick WebGUI Configuration
# ============================================
# Copy this file to .env and modify as needed:
# cp .env.example .env

# ============================================
# PORTS CONFIGURATION
# ============================================
# Frontend port (default: 3000)
FRONTEND_PORT=3000

# Backend API port (default: 8000)
BACKEND_PORT=8000

# API port for frontend to connect (must match BACKEND_PORT)
NEXT_PUBLIC_API_PORT=8000

# After changing ports:
# docker compose down
# docker compose build --no-cache
# docker compose up -d

# ============================================
# SECURITY (CHANGE IN PRODUCTION!)
# ============================================
SECRET_KEY=supersecretkey_change_in_production_2024
JWT_SECRET=jwt_secret_key_change_this_in_production

# Generate secure keys:
# openssl rand -hex 32

# ============================================
# AUTHENTICATION
# ============================================
# Require login to use the app
REQUIRE_LOGIN=false

# Allow new user registration
# Set to false to prevent new signups
ALLOW_REGISTRATION=true

# ============================================
# NETWORK
# ============================================
# CORS allowed origins (comma-separated)
# For production, set specific domains:
# ALLOWED_ORIGINS=https://yourdomain.com,https://api.yourdomain.com
ALLOWED_ORIGINS=*

# ============================================
# DATABASE (Internal - Don't change)
# ============================================
DATABASE_URL=postgresql+asyncpg://imagemagick:imagemagick@postgres:5432/imagemagick

# ============================================
# REDIS (Internal - Don't change)
# ============================================
REDIS_URL=redis://redis:6379/0

# ============================================
# GOOGLE OAUTH (Optional)
# ============================================
# Leave empty to disable Google login
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Setup instructions:
# 1. Go to: https://console.cloud.google.com/apis/credentials
# 2. Create OAuth 2.0 Client ID
# 3. Add authorized redirect URI: https://yourdomain.com/api/auth/google/callback

# ============================================
# IMAGE PROCESSING
# ============================================
# Maximum upload size in MB
MAX_UPLOAD_SIZE_MB=100

# Default output format (webp, jpeg, png, avif)
DEFAULT_OUTPUT_FORMAT=webp

# Default quality (1-100)
DEFAULT_QUALITY=85

# ImageMagick timeout in seconds
IMAGEMAGICK_TIMEOUT=300

# ImageMagick memory limit
IMAGEMAGICK_MEMORY_LIMIT=2GB

# ============================================
# HISTORY
# ============================================
# How long to keep processed images (hours)
HISTORY_RETENTION_HOURS=24

# ============================================
# TIMEZONE
# ============================================
TZ=UTC
